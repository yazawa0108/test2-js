<!DOCTYPE html>
<html>
  <head>
    <title>Test2Js</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  </head>
  

  <body >
    <canvas id="c"></canvas>
    <script>
    var s = window.screen;
    var c = document.getElementById("c");
    var ctx = c.getContext("2d");
    
    var width = c.width = s.width;
    var height = c.height = s.height;
    
    var matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789#$%^&*()*&^%";
    
    matrix = matrix.split("");
    
    var font_size = 10;
    var columns = c.width / font_size;
    var drops = [];
    for(var x = 0; x < columns; x++)
    	drops[x] = 1; 
    
    function draw() {
    	ctx.fillStyle = "rgba(0, 0, 0, 0.04)";
    	ctx.fillRect(0, 0, c.width, c.height);
    	ctx.fillStyle = "#0F0";
    	ctx.font = font_size + "px arial";
    	for( var i = 0; i < drops.length; i++ ) {
    		var text = matrix[ Math.floor( Math.random() * matrix.length ) ];
    		ctx.fillText(text, i * font_size, drops[i] * font_size);
    		if( drops[i] * font_size > c.height && Math.random() > 0.975 )
    			drops[i] = 0;
    		drops[i]++;
    	}
    }
    setInterval( draw, 35 );
    </script>

    <div style="position:absolute">
    <%= yield %>
    </div>

  </body>
</html>
